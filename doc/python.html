<!DOCTYPE HTML>
<html>
	<head>
		<title>Fanhao Jia</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="../assets/css/main.css" />
        <link rel="stylesheet" href="../assets/css/bootstrap.min.css" />
		<link rel="stylesheet" href="../assets/css/katex.min.css" />
		<script src="../assets/js/katex.min.js"></script>
		<script src="../assets/js/auto-render.js"></script>	
		<script type="text/x-mathjax-config">  MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}});</script>
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
<!--<script id="MathJax-script" async src="../assets/js/tex-mml-chtml.js"></script>-->
		<noscript><link rel="stylesheet" href="../assets/css/noscript.css" /></noscript>
    </head>
  
<body>
    <nav >
        <div class="container"> 
            <div class="navbar-collapse" id="navbar">
                <ul class="nav navbar-nav">
                    <li >
                        <a href="https://fanhaojia.github.io/#note"><b>主页Home</b></a>
                    </li>
                </ul>
            </div>
        </div>			
    </nav>
		
<main id="main">
    <div class="content inner">
				<header class="page-header">
					<center><h2 class="page-title">&nbsp; Python </h2></center>
				</header>
<section class="wrapper style1 align-left">
<div class="inner">
<div class="panel-group  inner" id="accordion">
    <div class="panel panel-default">
        <div class="panel-heading">
            <h4 class="panel-title">
                <a data-toggle="collapse" data-parent="#accordion" href="#system">
                常用语句
                </a>
            </h4>
        </div>
        <div id="system" class="panel-collapse collapse in">
            <div class="panel-body">
<br>程序入口：if __name__ == "__main__":
<br>环境变量：#!/usr/bin/env python

            </div>
        </div>
    </div>
    <div class="panel panel-default">
        <div class="panel-heading">
            <h4 class="panel-title">
                <a data-toggle="collapse" data-parent="#accordion" href="#system">
                画图
                </a>
            </h4>
        </div>
        <div id="system" class="panel-collapse collapse in">
            <div class="panel-body">
		<br> passwd someone
            </div>
        </div>
    </div>	
    <div class="panel panel-default">
        <div class="panel-heading">
            <h4 class="panel-title">
                <a data-toggle="collapse" data-parent="#accordion"  href="#Cproject">
                Daily functions
            </a>
            </h4>
        </div>
        <div id="Cproject" class="panel-collapse collapse">
        <div class="panel-body">
<div class="language-plaintext highlighter-rouge">

<br> read_formula
<div class="highlight">
    <pre class="highlight"><code>
import re
def read_formula_elements(formula):
    element_parten = re.compile("([A-Z][a-z]?)(\d*)")
    elements = []
    for (element_name, count) in element_parten.findall(formula):
        if count == "":
            count = 1
        else:
            count = int(count)
        #elements.extend([element_name] * count)
        elements.append(element_name)
    return elements
    </code></pre>
</div>

<br> get POTCAR | ENCUT  | KPOINTS
<div class="highlight">
    <pre class="highlight"><code>
import os
import atomic_info_vasp as aiv
def cat_potcar(elements=['Ba', 'Ti', 'O'], potpaw_path='/home/work_dir/potpaw/PBE'):
    n=len(elements)
    parent_dir = os.getcwd()
    path1=os.path.join(parent_dir, 'POTCAR')
    if os.path.exists(path1):
        os.remove(path1)
    for i in range(n):
        path2=os.path.join(potpaw_path, aiv.recommended_potcar[elements[i]])
        path3=os.path.join(path2,'POTCAR')
        comd="cat " + path3 +" >> "+ path1
        os.system(comd)
def get_cutoff(elements=['Ba', 'Ti', 'O'], scaling=1.0):
    mode='mine'
    n=len(elements)
    encut=[]
    for i in range(n):
        if mode=='mine':
            ec=int(int(aiv.recommended_cutoff[elements[i]])*scaling)
            encut.append(ec)
        elif mode=='origin':
            ec=int(int(aiv.recommended_cutoff_origin[elements[i]])*scaling)
            encut.append(ec)
        else:
            print ('you need set mode to mine')
    return max(encut)
def get_kpoints(mode='opt', kgrid=[1,1,1]):
    if mode=='opt-vdw' or mode=='opt' or mode=='scf':
        l_kgrid=str(kgrid[0])+' '+str(kgrid[1])+' '+str(kgrid[2])+' \n'
        fc=open('KPOINTS','w')
        fc=open('KPOINTS','a+')
        fc.writelines("Automatic \n")
        fc.writelines(" 0 \n")
        fc.writelines("Gamma \n")
        fc.writelines(l_kgrid)
        fc.writelines("0 0 0 \n")
        fc.close()
    </code></pre>
</div>

<div class="highlight">
    <pre class="highlight"><code>

    </code></pre>
</div>


</div>

        </div>
        </div>
    </div>

</div>



</div></section>

</div>
</main>
			<script src="../assets/js/jquery-3.3.1.slim.min.js"></script>
			<script src="../assets/js/popper.min.js"></script>
			<script src="../assets/js/bootstrap.min.js"></script>
			<script src="../assets/js/jquery.min.js"></script>
			<script src="../assets/js/jquery.scrollex.min.js"></script>
			<script src="../assets/js/jquery.scrolly.min.js"></script>
			<script src="../assets/js/browser.min.js"></script>
			<script src="../assets/js/breakpoints.min.js"></script>
			<script src="../assets/js/util.js"></script>
			<script src="../assets/js/main.js"></script>

	</body>
</html>